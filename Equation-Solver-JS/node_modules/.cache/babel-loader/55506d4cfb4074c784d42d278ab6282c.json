{"ast":null,"code":"var _jsxFileName = \"/Users/aryanpillai/VScode_projects/Equation-Solver/src/UploadButton.js\";\nimport React, { Component } from 'react';\nimport { Button, Modal, Image, Alert } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet imgBase64 = '';\nclass UploadButton extends Component {\n  constructor(props) {\n    super(props);\n    this.validateFile = event => {\n      let extension = event.target.files[0].name.substring(event.target.files[0].name.lastIndexOf('.') + 1).toLowerCase();\n      let img = '';\n      if (extension === 'jpg' || extension === 'png' || extension === 'jpeg') {\n        img = URL.createObjectURL(event.target.files[0]);\n        let file = event.target.files[0];\n        let reader = new FileReader();\n        reader.onloadend = () => {\n          imgBase64 = reader.result;\n          this.setState(Object.assign(this.state, {\n            uploadState: false,\n            imgUrl: img,\n            uploadError: false,\n            showModal: true\n          }));\n          console.log(this.state.imgBase64);\n          console.log('RESULT', reader.result);\n        };\n        reader.readAsDataURL(file);\n      } else {\n        imgBase64 = '';\n        this.setState(Object.assign(this.state, {\n          uploadState: true,\n          imgUrl: '',\n          uploadError: true,\n          showModal: true\n        }));\n      }\n    };\n    this.handleClose = () => {\n      this.setState(Object.assign(this.state, {\n        showModal: false\n      }));\n    };\n    this.modalBody = () => {\n      if (!this.state.uploadError) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            alt: \"selected image\",\n            src: this.state.imgUrl,\n            fluid: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"danger\",\n            children: \"The selected file is not an image. Please select an image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this);\n      }\n    };\n    this.state = {\n      uploadState: true,\n      imgUrl: '',\n      uploadError: false,\n      showModal: false\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: this.validateFile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          disabled: this.state.uploadState,\n          onClick: () => this.props.sendImgToServer(imgBase64),\n          children: \"Upload!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.showModal,\n        onHide: this.handleClose,\n        size: \"lg\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: this.state.uploadError ? \"Error in extension\" : \"Preview of selected image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: this.modalBody()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: this.handleClose,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default UploadButton;","map":{"version":3,"names":["React","Component","Button","Modal","Image","Alert","jsxDEV","_jsxDEV","imgBase64","UploadButton","constructor","props","validateFile","event","extension","target","files","name","substring","lastIndexOf","toLowerCase","img","URL","createObjectURL","file","reader","FileReader","onloadend","result","setState","Object","assign","state","uploadState","imgUrl","uploadError","showModal","console","log","readAsDataURL","handleClose","modalBody","children","alt","src","fluid","fileName","_jsxFileName","lineNumber","columnNumber","variant","render","type","onChange","className","disabled","onClick","sendImgToServer","show","onHide","size","Header","closeButton","Title","Body","Footer"],"sources":["/Users/aryanpillai/VScode_projects/Equation-Solver/src/UploadButton.js"],"sourcesContent":["import React, { Component } from 'react';\nimport {Button,Modal,Image,Alert} from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nlet imgBase64 = '';\n\nclass UploadButton extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            uploadState: true,\n            imgUrl: '',\n            uploadError: false,\n            showModal: false\n        };\n    }\n\n    validateFile = (event) => {\n        let extension = event.target.files[0].name.substring(event.target.files[0].name.lastIndexOf('.')+1).toLowerCase();\n        let img = '';\n        if(extension === 'jpg' || extension === 'png' || extension === 'jpeg'){\n            img = URL.createObjectURL(event.target.files[0]);\n            let file = event.target.files[0];\n            let reader = new FileReader();\n            reader.onloadend = () => {\n                imgBase64 = reader.result;\n                this.setState(Object.assign(this.state,{\n                    uploadState:false,\n                    imgUrl:img,\n                    uploadError: false,\n                    showModal: true\n                }));\n                console.log(this.state.imgBase64);\n                console.log('RESULT', reader.result);\n            }\n            reader.readAsDataURL(file);\n        }\n        else {\n            imgBase64 = '';\n            this.setState(Object.assign(this.state,{\n                uploadState:true,\n                imgUrl:'',\n                uploadError: true,\n                showModal: true\n            }));\n        }\n    }\n\n    handleClose = () => {\n        this.setState(Object.assign(this.state,{showModal:false}));\n    }\n\n    modalBody = () => {\n        if(!this.state.uploadError) {\n            return (\n                <div>\n                    <Image alt=\"selected image\" src={this.state.imgUrl} fluid/>\n                </div>\n            );\n        }\n        else{\n            return(\n                <div>\n                    <Alert variant=\"danger\">\n                        The selected file is not an image. Please select an image\n                    </Alert>\n                </div>\n            );\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div> \n                    <input type=\"file\" onChange={this.validateFile} /> \n                    <button\n                        type=\"button\"\n                        className=\"btn btn-primary\" \n                        disabled={this.state.uploadState}\n                        onClick={() => this.props.sendImgToServer(imgBase64)}> \n                      Upload! \n                    </button> \n                </div>\n                <Modal \n                    show={this.state.showModal}\n                    onHide={this.handleClose}\n                    size=\"lg\"\n                    aria-labelledby=\"contained-modal-title-vcenter\"\n                >\n                    <Modal.Header closeButton>\n                        <Modal.Title>\n                            {this.state.uploadError? \"Error in extension\": \"Preview of selected image\"}\n                        </Modal.Title>\n                    </Modal.Header>\n                        <Modal.Body>\n                            {this.modalBody()}\n                        </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\n                            Close\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default UploadButton;"],"mappings":"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"},"metadata":{},"sourceType":"module"}